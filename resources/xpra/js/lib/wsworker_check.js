self.addEventListener("message",function(e){var data=e.data;switch(data.cmd){case"check":try{if(WebSocket){self.postMessage({result:true})}else{self.postMessage({result:false})}}catch(err){self.postMessage({result:false})}break;default:console.log("worker got unknown message: "+data.cmd)}},false);